<%- include('header') %>

<div class="content-section">
    <h1>Search Workouts</h1>
    <p>Find your past workouts by date, exercise name, or notes</p>

    <form action="/search" method="POST" class="search-form">
        <div class="search-input-group">
            <input type="text" name="query" placeholder="Search by date, exercise, or notes..." 
                   class="search-input" value="<%= query %>" required>
            <button type="submit" class="btn btn-primary">üîç Search</button>
        </div>
    </form>

    <% if (results !== null) { %>
        <div class="search-results">
            <h2>Search Results</h2>
            
            <% if (results.length === 0) { %>
                <div class="empty-state">
                    <p>No workouts found matching "<%= query %>". Try a different search term.</p>
                </div>
            <% } else { %>
                <p class="results-count">Found <%= results.length %> workout(s) matching "<%= query %>"</p>
                
                <div class="workout-list">
                    <% results.forEach(workout => { %>
                        <div class="workout-card">
                            <div class="workout-date">
                                <span class="date-day"><%= new Date(workout.workout_date).getDate() %></span>
                                <span class="date-month"><%= new Date(workout.workout_date).toLocaleDateString('en-US', { month: 'short' }) %></span>
                            </div>
                            <div class="workout-info">
                                <h3>Workout on <%= new Date(workout.workout_date).toLocaleDateString() %></h3>
                                <div class="workout-meta">
                                    <span>‚è±Ô∏è <%= workout.duration_minutes %> minutes</span>
                                    <% if (workout.exercises) { %>
                                        <span>üí™ <%= workout.exercises %></span>
                                    <% } %>
                                </div>
                                <% if (workout.notes) { %>
                                    <p class="workout-notes"><%= workout.notes %></p>
                                <% } %>
                            </div>
                            <div class="workout-actions">
                                <a href="/workout/<%= workout.id %>" class="btn btn-small">View Details</a>
                            </div>
                        </div>
                    <% }); %>
                </div>
            <% } %>
        </div>
    <% } %>
</div>

<%- include('footer') %>
