<%- include('header') %>

<div class="content-section">
    <div class="page-header">
        <h1>Workout Details</h1>
        <a href="/dashboard" class="btn btn-secondary">‚Üê Back to Dashboard</a>
    </div>

    <div class="workout-detail">
        <div class="detail-header">
            <h2>Workout on <%= new Date(workout.workout_date).toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            }) %></h2>
            <div class="workout-meta-large">
                <span class="meta-item">
                    <strong>‚è±Ô∏è Duration:</strong> <%= workout.duration_minutes %> minutes
                </span>
                <span class="meta-item">
                    <strong>üìÖ Logged:</strong> <%= new Date(workout.created_at).toLocaleDateString() %>
                </span>
            </div>
        </div>

        <% if (workout.notes) { %>
            <div class="workout-notes-section">
                <h3>Notes</h3>
                <p><%= workout.notes %></p>
            </div>
        <% } %>

        <div class="exercises-section">
            <h3>Exercises Performed</h3>
            
            <% if (exercises.length === 0) { %>
                <p class="text-muted">No exercises recorded for this workout.</p>
            <% } else { %>
                <div class="exercise-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Exercise</th>
                                <th>Category</th>
                                <th>Sets</th>
                                <th>Reps</th>
                                <th>Weight (kg)</th>
                                <th>Distance (km)</th>
                                <th>Calories</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% exercises.forEach(exercise => { %>
                                <tr>
                                    <td><strong><%= exercise.name %></strong></td>
                                    <td><span class="badge"><%= exercise.category %></span></td>
                                    <td><%= exercise.sets || '-' %></td>
                                    <td><%= exercise.reps || '-' %></td>
                                    <td><%= exercise.weight_kg || '-' %></td>
                                    <td><%= exercise.distance_km || '-' %></td>
                                    <td><%= exercise.calories_burned || '-' %></td>
                                </tr>
                            <% }); %>
                        </tbody>
                    </table>
                </div>

                <div class="exercise-summary">
                    <h4>Summary</h4>
                    <div class="summary-stats">
                        <div class="summary-item">
                            <span class="summary-label">Total Exercises:</span>
                            <span class="summary-value"><%= exercises.length %></span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Total Calories Burned:</span>
                            <span class="summary-value">
                                <%= exercises.reduce((sum, ex) => sum + (ex.calories_burned || 0), 0) %>
                            </span>
                        </div>
                    </div>
                </div>
            <% } %>
        </div>
    </div>
</div>

<%- include('footer') %>
